<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        h1{
            text-align: center;
            border: 2px solid black;
            border-radius: 20px;
            color: white;
            padding: 10px;
            background-color: rgb(39 64 60);
            
        }
        body{
            background-color: rgb(174 196 183);
        }
        label{
            font-size: 20px;
            font-style: bold;
        }
        input{
            border: 2px solid black;
            padding: 20px;
            width: 200px;
            border-radius: 20px;
        }
        hr{
            border: 1px solid black;
            margin: 32px 4px
        }
        button{
            border: 2px solid black;
            padding:15px;
            border-radius: 20px;

        }
        button:hover{
            background-color: aliceblue;
        }
    </style>
</head>
<body>
    <h1>URL-Shortener</h1>
    <div>
        <form action="/url" method="POST">
            <label for="">Enter Your Original URL : </label>
            <input type="text" name="url" placeholder="https://example.com">
            <button type="submit">Generate</button>
        </form>
        <hr>
    </div>
    <% if (locals.id) { %>
        <p>Your URL is generated : http://localhost:8000/<%=id%></p>
     
    <% } %>
    
        <% if (locals.urls) { %>
         <table>
            <thead>
                <th>S_NUM</th>
                <th>ShortID</th>
                <th>Redirect</th>
                <th>Clicks</th>
            </thead>
            <tbody>
                <% urls.forEach((url,idx) => { %>
                    <tr>

                        <td><%=idx+1%></td>
                        <td><%=url.shortId%></td>
                        <td><%=url.redirectUrl%></td>
                        <td><%=url.visitHistory.length%></td>
                    </tr>
                <% }) %>

            </tbody>
         </table>
        <% } %>


</body>
</html>